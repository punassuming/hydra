services:
  worker:
    build:
      context: ./worker
      dockerfile: Dockerfile
    env_file:
      - .env
    environment:
      - REDIS_URL=${REDIS_URL:-redis://redis:6379/0}
      - MONGO_URL=${MONGO_URL:-mongodb://mongo:27017}
      - MONGO_DB=${MONGO_DB:-hydra_jobs}
      - WORKER_ID=${WORKER_ID:-worker-standalone}
      - WORKER_DOMAIN=${WORKER_DOMAIN:-prod}
      - API_TOKEN=${API_TOKEN}
      - WORKER_TAGS=${WORKER_TAGS:-}
      - MAX_CONCURRENCY=${MAX_CONCURRENCY:-2}
